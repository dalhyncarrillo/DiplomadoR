# Introducción a R{#intro}

## Primeros pasos 
Para interactuar con R se dispone de una potente línea de comandos y en un principio, la manera más sencilla de ver **R** es que puede ser usado como una calculadora: 

```{R Suma}
10+5 
``` 

o

```{R División}
10/5 
``` 

Sin embargo, su potencial va más allá... 

Principalmente por que este documento ha sido diseñado en **R** y **RMarkdown** ;)

### Establecer directorios de trabajo

Al ejecutar **R**, este establece un directorio de trabajo, es decir, establece una carpeta donde guardar los datos ejecutados en R, misma que será la carpeta que usara para buscar, leer y escribir los archivos (de ser requerido) durante la sesión (es decir, mientras se mantiene el programa abierto), por ello, para obtener el directorio de trabajo actual basta con usar el siguiente comando:

```{r WD}
getwd()
```

Dicho directorio va a variar dependiendo de la maquina, por ello, más de una vez será necesario modificarlo, para lo cual se usara el comando `setwd("Ruta")`, el cual varia dependiendo del Sistema Operativo, es recomendable como buena practica del programador establecer el directorio de trabajado dentro de la carpeta de Documentos, además de que es más sencillo encontrar los proyectos de trabajo, si se usa la **ruta relativa** y no la **ruta física**, si se requiere mover todos los archivos para trabajar en otra computadora, no se tendrá que volver a modificar el directorio de trabajo.

**Ejemplo usando la Ruta relativa en Linux**
```{r SWD, eval=FALSE}
setwd("~/Documentos/Curso") #Linux
```

**Ejemplo usando la _Ruta física_ y la _ruta relativa_ en Windows**
```{r SWDWindows, eval=FALSE}
setwd("C:\\Usuario\\Documentos\\Curso") #MALA PRACTICA
setwd("~/Curso") #BUENA PRACTICA (Equivalente al comando anterior)
```

### Creación de objetos/variables

En **R** podemos crear y manipular objetos asignándole valores, cadenas de texto, funciones y un largo etc. 
Por ser el primer contacto con **R**, crearemos un objeto (izquierda del símbolo `=`), asignándole como valor la cadena de texto "Hola mundo" 
```{R Creación-Saludo, eval=F}
saludo = "Hola mundo" 
``` 
Ahora para mostrar en consola lo que contiene la _variable_ u _objeto_ `saludo`, lo escribiremos tal cual y obtendremos una salida muy similar a la siguiente. 
```{R Saludo, echo=F, eval=T}
saludo = "Hola mundo" 
saludo 
``` 

**NOTAS:** 

> **R** es sensible a las MAYÚSCULAS y minúsculas, por lo que `saludo` no es igual a `Saludo`, ni a `SALUDO`.
>
> **R** <span style="color:#DA0101">NO</span> requiere explicitar que tipo de valores van a contener las variables.

Otra manera de asignar valores a las variables es mediante el símbolo `<-` que se compone de un menor que y el signo de menos. 
 
```{R Asignación}
x <- 10+5 
``` 
 
Es recomendable incluir un espacio simple a cada lado del operador de asignación para incrementar la legibilidad. Pero <span style="color:#DA0101">NO</span> coloques un espacio entre el `<` y el `-` que forman la flecha, recuerda que a pesar de estar compuesto por dos caracteres es un único símbolo. 
 
Es posible reasignar un valor a la variable que hemos creado, así como reutilizar el valor de la variable para realizar un calculo:   
```{R Objetos, eval=F}
y <- x + 5 
y
```

```{R Objetos2, echo=F}
x <- 10 + 5
y <- x + 5
y 
``` 

> Recuerde que aunque pareciera algo matemático, los símbolos `<-` y `=` no funcionan como un «_igual_», si no, como un «_equivale a_» o una «_asignación_», por que a partir de ese momento, el valor de la derecha se le asigna al de la izquierda.


## Clases de datos

### Vector

### Matriz
Para crear una matriz en **R** se utiliza la función

```{R Matriz, eval=F, eval=F}
matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)
```

donde `matrix()` corresponde al nombre de la función y todo lo que está dentro de los paréntesis son los argumentos de dicha función.

| Argumentos | Significado |
|------------|------------|
|   `data`   |Es un vector de datos opcional |
|   `nrow`   |Número deseado de filas        |
|   `ncol`   |Número deseado de columnas     |
|   `byrow`  |Valor lógico. Si es falso (valor por defecto), la matriz se llena por orden columna, de otra manera se llenará primero por filas. |
| `dimnames` |Utilizado para darles nombres a las filas y a las columnas, respectivamente. |


### Data Frame
Los dataframes, son una clase parecida a las matrices, sin embargo, poseen determinadas características que las hace más útiles en ciertas ocasiones. 

Al igual que los vectores y matrices, existen varias formas de crear data frames, una forma sencilla de crearlos es especificar los datos de las columnas como en el ejemplo siguiente:

```{r dataframe1}
data.frame(w = 1, x = 1:5, y = LETTERS[1:5], z=runif(5))
```

### Lista

## Manejo de datos

### Salvar datos
En algún momento, tendremos la necesidad de guardar o leer algo en un formato determinado, sea `.csv` o `.Rdata`, veamos unos ejemplos que podrán ser de utilidad.

#### CSV (Comma-separated values)

Un formato muy utilizado en **R** a parte de los `.RData` (que son archivos especiales de **R**), para exportar los datos en dicho formato:  

```{R ExportarCSVConFilas, eval=F}
df = data.frame(runif(10), runif(10), runif(10)) 
names(df) = c("dato1", "dato2", "dato3")

write.table(df, file = "dataframe1.csv", sep = ",",
col.names = NA, qmethod = "double") 
```

En caso de que no se quisiera exportar el nombre de las filas, basta con modificar un poco el código, como en el siguiente ejemplo:

```{R ExportarCSVSinFilas, eval=F}
write.table(df, file = "dataframe2.csv", sep = ",",
row.names = FALSE, qmethod = "double")
```

#### .RData
Si tienes objetos que te gustaría guardar como tal para luego procesarlos o simplemente se te hace más sencillo comprenderlo sobre un `.csv`, los comandos serán los siguientes:

```{r save, eval=F}
foo = "bar"
save(foo, file="nombre.RData")
```

### Leer datos

#### CSV
```{R ImportarCSVConFilas, eval=F} 
read.table("dataframe1.csv", header = TRUE, sep = ",",
row.names = 1) 
```

Y si no se quieren importar los nombres de las filas optaremos por el siguiente comando:

```{R ImportarCSVSinFilas, eval=F} 
read.table("dataframe2.csv", header = TRUE, sep = ",")
```

Aunque, la forma más sencilla de importar un `.csv` es a través del comando `read.csv(...)`, cuya implementación es la siguiente:

```{r ImportarCSV, eval=F}
read.csv(file, header = TRUE, sep = ",", dec = ".", ...)
```

Dónde:

| Argumentos  | Significado o uso  |
|-------------|-------------------|
| `file`      | Ruta al archivo, en caso de estar en el mismo directorio de trabajo poner solo el nombre del archivo, de otro modo ingresar la ruta completa  |
| `header`    | Valor lógico para determinar si el archivo incluye encabezados en la primera linea.   |
| `sep`       | Este campo sirve para especificar el carácter de separación. |
| `dec`       | El carácter usado para los puntos decimales  |
| `...`       | Ver la documentación para argumentos extras   |

Un ejemplo seria el siguiente:
```{r readcsv2,eval=F}
csv <- read.csv("dataframe1.csv")
```

#### .RData
para volver a cargar los datos:
```{r load, eval=F}
load("nombre.RData")
```
Para llamar el objeto, basta con volver a introducir su variable, que, aunque no haya sido creada antes de usar la función `load()`, esta se encarga de crear el objeto y asignarle el valor que decidimos guardar en un principio.
```{r loadfoo, eval=F}
foo
```
```{r loadfoo2,echo=F}
"bar"
```